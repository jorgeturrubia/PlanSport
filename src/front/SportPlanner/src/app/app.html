<!-- Supabase Connection Test Component -->
<div class="min-h-screen bg-gray-50 py-8">
  <div class="max-w-4xl mx-auto px-4">
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold text-gray-900 mb-2">SportPlanner - Infrastructure Status</h1>
      <p class="text-gray-600">Testing Tailwind CSS v4, Backend API, and Supabase connections</p>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="flex justify-center items-center py-12">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
    </div>

    <!-- Connection Status Cards -->
    <div *ngIf="!loading" class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
      
      <!-- Backend API Status -->
      <div class="bg-white rounded-lg shadow-md p-6 border-t-4" 
           [class.border-green-500]="backendStatus?.success"
           [class.border-red-500]="!backendStatus?.success">
        <div class="flex items-center mb-4">
          <div class="w-8 h-8 rounded-full flex items-center justify-center mr-3"
               [class.bg-green-100]="backendStatus?.success"
               [class.bg-red-100]="!backendStatus?.success">
            <svg class="w-5 h-5" [class.text-green-600]="backendStatus?.success"
                 [class.text-red-600]="!backendStatus?.success" fill="currentColor" viewBox="0 0 20 20">
              <path *ngIf="backendStatus?.success" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
              <path *ngIf="!backendStatus?.success" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L9.586 10 5.293 5.707a1 1 0 010-1.414z"/>
            </svg>
          </div>
          <h3 class="text-lg font-semibold">Backend API</h3>
        </div>
        <div class="text-sm text-gray-600 mb-2">
          Status: 
          <span [class.text-green-600]="backendStatus?.success" [class.text-red-600]="!backendStatus?.success">
            {{ backendStatus?.success ? 'Connected' : 'Failed' }}
          </span>
        </div>
        <div class="text-xs text-gray-500">
          .NET API: https://localhost:7213
        </div>
      </div>

      <!-- Backend Supabase Config -->
      <div class="bg-white rounded-lg shadow-md p-6 border-t-4"
           [class.border-green-500]="supabaseStatus?.success"
           [class.border-red-500]="!supabaseStatus?.success">
        <div class="flex items-center mb-4">
          <div class="w-8 h-8 rounded-full flex items-center justify-center mr-3"
               [class.bg-green-100]="supabaseStatus?.success"
               [class.bg-red-100]="!supabaseStatus?.success">
            <svg class="w-5 h-5" [class.text-green-600]="supabaseStatus?.success"
                 [class.text-red-600]="!supabaseStatus?.success" fill="currentColor" viewBox="0 0 20 20">
              <path *ngIf="supabaseStatus?.success" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
              <path *ngIf="!supabaseStatus?.success" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L9.586 10 5.293 5.707a1 1 0 010-1.414z"/>
            </svg>
          </div>
          <h3 class="text-lg font-semibold">Backend Supabase</h3>
        </div>
        <div class="text-sm text-gray-600 mb-2">
          Configured: 
          <span [class.text-green-600]="supabaseStatus?.data?.SupabaseConfigured" 
                [class.text-red-600]="!supabaseStatus?.data?.SupabaseConfigured">
            {{ supabaseStatus?.data?.SupabaseConfigured ? 'Yes' : 'No' }}
          </span>
        </div>
        <div class="text-xs text-gray-500">
          Use Supabase: {{ supabaseStatus?.data?.UseSupabase ? 'Yes' : 'No' }}
        </div>
      </div>

      <!-- Frontend Supabase Status -->
      <div class="bg-white rounded-lg shadow-md p-6 border-t-4"
           [class.border-green-500]="frontendSupabaseStatus?.success"
           [class.border-red-500]="!frontendSupabaseStatus?.success">
        <div class="flex items-center mb-4">
          <div class="w-8 h-8 rounded-full flex items-center justify-center mr-3"
               [class.bg-green-100]="frontendSupabaseStatus?.success"
               [class.bg-red-100]="!frontendSupabaseStatus?.success">
            <svg class="w-5 h-5" [class.text-green-600]="frontendSupabaseStatus?.success"
                 [class.text-red-600]="!frontendSupabaseStatus?.success" fill="currentColor" viewBox="0 0 20 20">
              <path *ngIf="frontendSupabaseStatus?.success" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
              <path *ngIf="!frontendSupabaseStatus?.success" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L9.586 10 5.293 5.707a1 1 0 010-1.414z"/>
            </svg>
          </div>
          <h3 class="text-lg font-semibold">Frontend Supabase</h3>
        </div>
        <div class="text-sm text-gray-600 mb-2">
          Connection: 
          <span [class.text-green-600]="frontendSupabaseStatus?.data?.connected" 
                [class.text-red-600]="!frontendSupabaseStatus?.data?.connected">
            {{ frontendSupabaseStatus?.data?.connected ? 'Connected' : 'Failed' }}
          </span>
        </div>
        <div class="text-xs text-gray-500">
          Supabase JS Client initialized
        </div>
      </div>

    </div>

    <!-- Infrastructure Summary -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
      <h2 class="text-xl font-semibold mb-4 text-gray-900">Infrastructure Summary</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h3 class="text-lg font-medium text-gray-800 mb-3">✅ Completed Setup</h3>
          <ul class="space-y-2 text-sm text-gray-600">
            <li class="flex items-center">
              <span class="w-2 h-2 bg-green-500 rounded-full mr-2"></span>
              Tailwind CSS v4.1.11 configured
            </li>
            <li class="flex items-center">
              <span class="w-2 h-2 bg-green-500 rounded-full mr-2"></span>
              Entity Framework Core 9.0.8
            </li>
            <li class="flex items-center">
              <span class="w-2 h-2 bg-green-500 rounded-full mr-2"></span>
              PostgreSQL provider (Npgsql 9.0.4)
            </li>
            <li class="flex items-center">
              <span class="w-2 h-2 bg-green-500 rounded-full mr-2"></span>
              Supabase client (@supabase/supabase-js)
            </li>
          </ul>
        </div>
        <div>
          <h3 class="text-lg font-medium text-gray-800 mb-3">🔧 Configuration Details</h3>
          <ul class="space-y-2 text-sm text-gray-600">
            <li>Frontend: Angular 20.1 + Tailwind CSS v4</li>
            <li>Backend: .NET 8 + EF Core + PostgreSQL</li>
            <li>Database: Supabase PostgreSQL</li>
            <li>Authentication: Supabase Auth (configured)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Test Buttons -->
    <div class="bg-white rounded-lg shadow-md p-6">
      <h2 class="text-xl font-semibold mb-4 text-gray-900">Quick Tests</h2>
      <div class="flex flex-wrap gap-4">
        <button (click)="checkConnections()" 
                class="btn-primary">
          🔄 Refresh Connections
        </button>
        
        <a href="https://localhost:7213/swagger" target="_blank" 
           class="btn-secondary">
          📊 View API Documentation
        </a>
        
        <a href="https://uyvcgsjrqgzpsbptmqxp.supabase.co" target="_blank" 
           class="btn-secondary">
          🗄️ Open Supabase Dashboard
        </a>
      </div>
    </div>

    <!-- Footer -->
    <div class="text-center mt-8 text-gray-500 text-sm">
      <p>SportPlanner Infrastructure Setup Complete</p>
      <p class="mt-1">Ready for development! 🚀</p>
    </div>

  </div>
</div>

<router-outlet />