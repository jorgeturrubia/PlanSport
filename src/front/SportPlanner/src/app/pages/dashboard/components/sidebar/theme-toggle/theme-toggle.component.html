<!-- Theme Toggle Component -->
<div class="theme-toggle-container">
  <!-- Toggle Button -->
  <button
    type="button"
    class="theme-toggle-btn"
    [class.dark]="isDarkMode()"
    (click)="onToggleClick()"
    (keydown)="onKeyDown($event)"
    [attr.aria-label]="ariaLabel()"
    [attr.aria-checked]="isDarkMode()"
    role="switch"
    tabindex="0"
    data-testid="theme-toggle-button">
    
    <!-- Toggle Track -->
    <div class="toggle-track">
      <!-- Toggle Handle -->
      <div class="toggle-handle" [class.translate-x-6]="isDarkMode()">
        <!-- Icon Container -->
        <div class="icon-container">
          @if (isDarkMode()) {
            <!-- Moon Icon (Dark Mode) -->
            <svg 
              class="icon moon-icon" 
              fill="none" 
              stroke="currentColor" 
              viewBox="0 0 24 24"
              data-testid="moon-icon"
              aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
            </svg>
          } @else {
            <!-- Sun Icon (Light Mode) -->
            <svg 
              class="icon sun-icon" 
              fill="none" 
              stroke="currentColor" 
              viewBox="0 0 24 24"
              data-testid="sun-icon"
              aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
            </svg>
          }
        </div>
      </div>
    </div>
  </button>
  
  <!-- Theme Labels -->
  <div class="theme-labels">
    <span 
      class="theme-label light-label" 
      [class.active]="!isDarkMode()"
      data-testid="light-label">
      Claro
    </span>
    <span 
      class="theme-label dark-label" 
      [class.active]="isDarkMode()"
      data-testid="dark-label">
      Oscuro
    </span>
  </div>
</div>
