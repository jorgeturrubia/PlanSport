<!-- Professional Dashboard Layout -->
<div class="dashboard-layout min-h-screen bg-background text-text-primary theme-transition" [class.sidebar-collapsed]="sidebarState().isCollapsed">
  <!-- Mobile Overlay -->
  <div 
    *ngIf="isMobile() && !sidebarState().isCollapsed" 
    class="fixed inset-0 bg-black/50 z-40 xl:hidden"
    (click)="toggleSidebar()"
  ></div>
  
  <!-- Sidebar Component -->
  <app-sidebar
    class="sidebar-component"
    [class.sidebar-expanded]="!sidebarState().isCollapsed"
    [class.sidebar-collapsed]="sidebarState().isCollapsed"
    [isCollapsed]="sidebarState().isCollapsed"
    [isMobile]="isMobile()"
    [currentUser]="currentUser()"
    [recentTeams]="recentTeams()"
    (navigationClick)="onSidebarNavigationClick($event)"
    (toggleSidebar)="toggleSidebar()"
  ></app-sidebar>
  <!-- Main content area -->
   <main class="main-content" [class.sidebar-expanded]="!sidebarState().isCollapsed" [class.sidebar-collapsed]="sidebarState().isCollapsed">
    <!-- Professional Header -->
    <header class="professional-header">
      <!-- Mobile menu button -->
      <button 
        type="button" 
        class="-m-2.5 p-2.5 text-text-primary xl:hidden hover:bg-surface rounded-lg theme-transition" 
        (click)="toggleSidebar()"
      >
        <span class="sr-only">Abrir sidebar</span>
        <ng-icon name="heroBars3" class="h-5 w-5"></ng-icon>
      </button>

      <!-- Professional search bar -->
      <div class="flex flex-1 gap-x-4 self-stretch lg:gap-x-6">
        <div class="relative flex-1 max-w-md">
          <label for="search-field" class="sr-only">Buscar</label>
          <div class="relative">
            <ng-icon 
              name="heroMagnifyingGlass" 
              class="pointer-events-none absolute inset-y-0 left-0 h-full w-5 text-text-secondary ml-3"
            ></ng-icon>
            <input 
              id="search-field" 
              type="search" 
              name="search" 
              class="block h-full w-full border-0 py-0 pl-10 pr-4 bg-surface/50 backdrop-blur-sm rounded-xl text-text-primary placeholder:text-text-secondary focus:ring-2 focus:ring-primary/50 focus:bg-surface theme-transition sm:text-sm outline-none" 
              placeholder="Buscar equipos, jugadores..." 
              [(ngModel)]="searchQuery"
              (ngModelChange)="onSearchChange($event)"
            />
          </div>
        </div>
      </div>

      <!-- Header actions -->
      <div class="flex items-center gap-x-4">
        <!-- Theme toggle -->
        <app-theme-toggle></app-theme-toggle>
        
        <!-- Notifications -->
        <button 
          type="button" 
          class="relative p-2.5 text-text-secondary hover:text-text-primary hover:bg-surface rounded-xl theme-transition"
        >
          <span class="sr-only">Ver notificaciones</span>
          <ng-icon name="heroBell" class="h-5 w-5"></ng-icon>
          <!-- Notification badge -->
          <span class="absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full animate-pulse"></span>
        </button>
        
        <!-- User menu -->
        <app-user-menu></app-user-menu>
      </div>
    </header>

    <!-- Main content -->
    <div class="content-wrapper animate-fade-in">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>