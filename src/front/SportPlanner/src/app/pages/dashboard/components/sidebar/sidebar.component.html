<aside class="sidebar" [class.collapsed]="isSidebarCollapsed()">
  <div class="sidebar-header">
    <div class="logo" [class.collapsed]="isSidebarCollapsed()">
      <img src="assets/logo.svg" alt="SportPlanner" class="logo-icon" />
      <span class="logo-text" *ngIf="!isSidebarCollapsed()">SportPlanner</span>
    </div>
  </div>

<nav class="sidebar-nav">
    <div *ngFor="let section of navigationConfig().sections" class="nav-section">
      <ul class="nav-items">
        <li *ngFor="let item of section.items" class="nav-item" [class.active]="isItemActive(item)">
          <a class="nav-link" (click)="onNavigationItemClick(item)" [attr.title]="isSidebarCollapsed() ? item.label : null">
            <app-icon [name]="item.icon" class="nav-icon"></app-icon>
            <span *ngIf="!isSidebarCollapsed()" class="nav-label">{{ item.label }}</span>
            <span *ngIf="item.badge && !isSidebarCollapsed()" class="nav-badge" [class]="'badge-' + (item.badge.color || 'default')">{{ item.badge.text }}</span>
            <app-icon *ngIf="item.children && item.children.length > 0 && !isSidebarCollapsed()" name="chevron-down" class="nav-chevron" [class.rotated]="item.isExpanded"></app-icon>
          </a>
          <ul *ngIf="shouldShowChildren(item)" class="nav-children">
            <li *ngFor="let child of item.children" class="nav-child-item" [class.active]="isItemActive(child)">
              <a class="nav-child-link" (click)="onNavigationItemClick(child)">
                <app-icon [name]="child.icon" class="nav-child-icon"></app-icon>
                <span class="nav-child-label">{{ child.label }}</span>
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <div class="sidebar-footer">
    <button 
      class="toggle-btn" 
      (click)="toggleSidebar()" 
      [attr.aria-label]="isSidebarCollapsed() ? 'Expandir sidebar' : 'Colapsar sidebar'">
      <app-icon [name]="isSidebarCollapsed() ? 'menu' : 'x'"></app-icon>
    </button>
  </div>
</aside>
